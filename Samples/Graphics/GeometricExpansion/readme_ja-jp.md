  ![](./media/image1.png)

#   ジオメトリック拡張のサンプル

*このサンプルは、Microsoft ゲーム開発キットのプレビュー (2019 年 11 月)
および PC 用 Windows 10 "20H1" Insider に対応しています。*

# 説明

このサンプルは、メッシュ
シェーダーのジオメトリック拡張機能を示しています。これは、多くのサンプル
ポイントがロードされ、シェーダー
コードによって代表的なジオメトリに手続き的に拡張されるプロセスです。一般的なケースは、フルスクリーン
クワッド、ビルボード スプライト、パーティクル
トレイル、デカールなどです。

メッシュ シェーダーは、作業負荷をスレッド
グループにどのようにマッピングするかを決定し、以前は計算シェーダーに固有だったデータ共有機能を決定する機能を提供します。これにより、より直観的な実装を行い、ローカル
ジオメトリ データにアクセスできます。

![](./media/image3.png)

# サンプルのビルド

Project Scarlett を使用している場合は、アクティブなソリューション
プラットフォームを Gaming.Xbox.Scarlett.x64 に設定します。

適切なハードウェアと Windows 10 リリースの PC
を使用している場合は、アクティブなソリューション プラットフォームを
Gaming.Desktop.x64 に設定します。

このサンプルは、Xbox One をサポートしていません。

*詳細については、GDK
ドキュメント*の「サンプルの実行」を*参照してください*。

# サンプルの使用

カメラを移動する以外に、使用できるオプションは、パーティクルが移動する正弦波関数の周波数と振幅を微調整することだけです。

# コントロール​​

| 動作                         |  コントローラー   |  キーボード        |
|------------------------------|------------------|-------------------|
| カメラをビュー ベ クターに沿って回転/変換する |  左サムスティック  |  マウス ホイール |
| カメラを周回させる  |  右サムスティック  |  LMB を押しな がらマウスの操作  |
| カメラをパンする  |  方向パッド  |  WASD または方向キー    |
| カメラをリセットする  |  右サムスティック (押す) |  \- |
| 振幅を増加                   |  左ショルダー     |  P                 |
| 振幅を減少                   |  左トリガー       |  O                 |
| 頻度を増加                   |  右ショルダー     |  \+                |
| 頻度を減少                   |  右トリガー       |  \-                |
| 終了                         |  ビュー ボタン    |  Escape キー       |

# 実装に関する注意事項

個々のフレームとパーティクル データは、CPU でシミュレートされ、GPU
リソースにコピーされます。次に、メッシュ シェーダーはパーティクル データ
(個々のサンプル ポイント) をロードし、それをビルボード
クアッドに展開します。各クワッドには、4 つの頂点と 2
つのプリミティブが必要なため、各スレッドは、担当する頂点とプリミティブ（存在する場合）を決定します。

# 更新履歴

2019 年 10 月 31 日 -- サンプルの作成。

# プライバシーに関する声明

サンプルをコンパイルして実行すると、サンプルの使用状況を追跡するため、サンプル実行可能ファイルのファイル名が
Microsoft に送信されます。このデータ収集を無効にするには、「Sample Usage
Telemetry」とラベル付けされた Main.cpp
内のコードのブロックを削除します。

Microsoft のプライバシー方針の詳細については、「[Microsoft
プライバシーに関する声明](https://privacy.microsoft.com/en-us/privacystatement/)」を参照してください。
