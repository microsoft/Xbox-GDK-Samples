  ![](./media/image1.png)

#   Achievements 2017 示例

此示例与 Microsoft 游戏开发开发工具包预览版（2019 年 11 月）兼容

# 

# 说明

此示例说明了如何使用 Microsoft 游戏 SDK 提供的 Achievements
2017（也称为"简化成就"）C-API。 该示例包括以下以下相关方案：

-   查询 Xbox Live 以获取该游戏的所有成就，包括处理多页结果

-   查询单个成就

-   更新成就的进度

# 构建示例

如果使用 Xbox One devkit，请将活动解决方案平台设置为
Gaming.Xbox.XboxOne.x64。

如果使用 Project Scarlett，请将活动解决方案平台设置为
Gaming.Xbox.Scarlett.x64。

有关详细信息，请参阅 GDK 文档中的"运行示例"。

# 运行示例

-   你需要登录 Xbox Live 测试帐户才能发送成就进度更新。

-   Xbox One devkit：将控制台的沙盒设置为 XDKS.1

# 使用示例

## 

![](./media/image3.png)

| 操作                                   |  游戏手柄                    |
|----------------------------------------|-----------------------------|
| 选择要运行的方案                       |  D-Pad 向上/向下             |
| 运行一个方案                           |  按钮                        |
| "视图"按钮                             |  退出                        |

日志窗口将显示有关正在调用的 API
的信息，而"结果"窗口将显示服务的一些响应内容。

# 可尝试的方案

-   枚举所有成就

    -   请注意，由于样本人为地将 "take" 计数限制为
        1，并且有两个成就记录到该样本，因此需要调用 API
        两次才能获得所有成就。

-   获取单个成就

    -   使用此选项检查特定成就的状态。
        如果不想查询某个游戏的所有成就，则可能更喜欢此选项。

-   通过单次调用完成成就

    -   这将在单次调用中将成就进度值设置为 100。
        许多成就都采用这种方式（玩家晋升到新等级、观看电影等等。）

-   使用多次调用完成成就

    -   这会将成就设置为按钮中指定的值。
        未上传任何进度的成就被标记为"未开始"。 上传的值小于 100
        的成就将被标记为"进行中"。

    -   请注意提交进度后的响应：

        -   如果将成就 2 设定为 25%，则第一次就会成功。
            如果再次将其设置为该值，则将响应"未修改"。

        -   如果将成就 2 设定为 50%，则它将再次成功。 如果尝试将其设置为
            25% 或 50%，它将再次响应"未修改"。
            另请注意，在这两种情况下，当调用"获取成就"时，它将返回其收到的最高百分比值。

        -   一旦将成就 2 设定为
            100%，它将被标记为"已达到"，不再可通过任何调用进行修改。

# 实施说明

Achievements 2017 API 与 Achievements 2013（也称为"云驱动成就"）API
的工作方式不同。
本[文档](https://docs.microsoft.com/en-us/gaming/xbox-live/achievements-2017/simplified-achievements)解释了许多差异以及这些差异背后的原因。

# 已知问题

一旦用户获得了所有成就，你就无法重新触发这些成就。
你需要选择一个新用户才能再次显示成就。

# 

# 更新历史记录

初始发布：2019 年 4 月

# 

# 隐私声明

在编译和运行一个样本时，样本可执行文件的文件名将发送给
Microsoft，以帮助跟踪样本使用情况。要选择退出此数据收集，你可以删除
Main.cpp 中标记为"样本使用遥测"的代码块。

有关 Microsoft 的一般隐私策略的详细信息，请参阅 [Microsoft
隐私声明](https://privacy.microsoft.com/en-us/privacystatement/)。
