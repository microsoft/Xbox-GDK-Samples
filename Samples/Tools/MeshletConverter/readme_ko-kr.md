![](./media/image1.png)

# 메시렛 변환기 앱

*\* 이 도구는 PC와 호환됩니다.*

# 설명

메시렛 변환기는 PC에서 사용하는 명령줄 도구입니다. Visual Studio 솔루션으로는 다음과 같은 세 가지 프로젝트가 있습니다.

- ConverterApp -- DirectXMesh를 사용하여 메시렛 데이터를 생성하는 실행 가능한 명령줄 도구입니다.

- 런타임 - 메시렛 데이터 구조의 런타임 버전을 포함하는 정적 라이브러리 프로젝트입니다.

ConverterApp 프로젝트는 FBX 파일이나 OBJ 파일 또는 SDKMesh 파일에서 메시렛 데이터를 생성하는 데 사용할 수 있는 명령줄 도구입니다. 이 도구는 메시렛 생성의 DirectXMesh 통합을 활용하여 입력 FBX 파일에서 읽은 꼭지점 및 기본 데이터에서 메시렛을 생성합니다.

런타임 프로젝트는 메시렛을 역직렬화하고 런타임에 업로드하는 방법을 보여 주는 자체 포함 런타임 메시렛 코드를 제공합니다. 독립 실행형 데모는 아니지만 기존 코드베이스에 쉽게 통합할 수는 있습니다.

# 설정

도구를 컴파일하려면 FBX SDK 2019.2가 설치되어 있어야 합니다. 설치되면 설치 디렉터리를 가리키도록 'FBX_SDK'이라는 환경 변수를 구성합니다(일반적으로 *C:\\Program Files\\Autodesk\\FBX\\FBX SDK\\2019.2*).

# 샘플 사용

명령줄 도구에는 다음과 같은 몇 가지 옵션만 있습니다.

- -h -- 도움말 메시지를 표시합니다.

- -v \<int\> - 메시렛의 최대 꼭짓점 수를 지정합니다. 값은 32 이상 256 이하의 범위에 속해야 합니다. 기본값은 128입니다.

- -p \<int\> - 메시렛의 최대 기본 개수를 지정합니다. 값은 32 이상 256 이하의 범위에 속해야 합니다. 기본값은 128입니다.

- -s \<float\> - 장면 기하 도형에 대한 전역 배율 인수를 지정합니다. 기본값은 1.0입니다.

- -fz -- 장면 기하 도형의 Z 축을 대칭 이동합니다. 기본값은 false입니다.

- -ft -- 장면 기하 도형에서 삼각형 꼭지점이 감기는 순서를 대칭 이동합니다. 기본값은 false입니다.

- -i -- 16비트로 충분하더라도 꼭짓점 인덱스를 32비트로 강제 적용합니다. 기본값은 false입니다.

- -t - FbxGeometryConverter 기능을 사용하여 장면 메시 파일을 삼각측량합니다. 기본값은 false입니다.

- \<file list\> - 처리할 관련 파일 경로 목록입니다. 하나 이상 있어야 합니다.

다음 예시와 같이 사용할 수 있습니다.

ConverterApp.exe -v 256 -p 256 -f Path/To/MyFile1.fbx Path/To/MyFile2.fbx

# 구현 참고 사항

명령줄 도구는 메시 꼭짓점 데이터를 수정하거나 내보내지 않습니다. 명령줄에서 자동 FBX SDK 삼각측정을 지정할 수 있습니다.

FBX 파일에는 메시가 여러 개 포함될 수 있으므로 내보낸 파일은 여러 메시렛 집합을 압축할 수 있습니다. 메시 이름으로 다양한 메시렛을 인덱싱하는 체계는 현재 없지만 이후 반복에서는 추가될 수도 있습니다. 메시는 FBX 노드 트리의 너비 우선 통과 순서에 따라 처리한 다음 내보냅니다.

# 사용 정보

메시를 엔진 런타임 형식으로 변환하는 동안 인덱스 또는 꼭짓점 데이터가 순서가 재지정되지 않도록 주의해야 합니다. 꼭짓점 데이터는 명령줄 도구로 내보내지 않으므로 순서를 다시 지정하면 메시렛 데이터가 무효화됩니다.

# 업데이트 기록

2019년 12월 2일 -- 샘플 만들기.

2019년 2월 20일 -- 다양한 꼭짓점/기본 개수, 보다 일관된 공간 및 방향 속성을 지원하도록 메시렛 생성기를 재작성했습니다.

2020년 4월 11일 -- 메시렛 생성 인터페이스를 더 얇은 DirectXMesh 유사 인터페이스로 대체했습니다.

2022년 10월 17일 -- SDKMesh 파일에서 읽기 지원이 추가되었습니다.


